{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","process","PORT","axios","get","then","response","data","newObject","post","id","delete","put","Notification","props","message","type","console","log","className","Filter","value","onChange","PersonForm","onSubmit","name","onNameChange","number","onNumberChange","Persons","filteredList","map","person","onClick","deleteName","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notifMessage","setNotifMessage","useEffect","personService","filter","toLowerCase","includes","event","target","preventDefault","some","item","window","confirm","find","updatedInfo","updatedPerson","catch","error","setTimeout","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"6LAEMA,GADOC,mIAAYC,KACZ,gBAuBE,EArBA,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAmBhC,EAhBA,SAACC,GAEZ,OADgBL,IAAMM,KAAKT,EAASQ,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAchC,EAXA,SAACG,GAGZ,OAFgBP,IAAMQ,OAAN,UAAgBX,EAAhB,YAA2BU,IAE5BL,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQhC,EALA,SAACG,EAAIH,GAEhB,OADgBJ,IAAMS,IAAN,UAAaZ,EAAb,YAAwBU,GAAMH,GAC/BF,MAAK,SAACC,GAAD,OAAcA,EAASC,S,OCnBzCM,EAAe,SAACC,GAClB,MAA0BA,EAAMC,QAAxBA,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KACjB,OAAgB,OAAZD,EACO,MAEXE,QAAQC,IAAI,iBAAkBF,GACvB,qBAAKG,UAAWH,EAAhB,SAAuBD,MAG5BK,EAAS,SAACN,GACZ,OACI,oDAEI,uBAAOO,MAAOP,EAAMO,MAAOC,SAAUR,EAAMQ,eAKjDC,EAAa,SAACT,GAChB,OACI,uBAAMU,SAAUV,EAAMU,SAAtB,UACI,wCAEI,uBAAOH,MAAOP,EAAMW,KAAMH,SAAUR,EAAMY,kBAE9C,0CAEI,uBAAOL,MAAOP,EAAMa,OAAQL,SAAUR,EAAMc,oBAEhD,8BACI,wBAAQZ,KAAK,SAAb,uBAMVa,EAAU,SAACf,GACb,OACI,8BACKA,EAAMgB,aAAaC,KAAI,SAACC,GAAD,OACpB,gCACKA,EAAOP,KADZ,IACmBO,EAAOL,OAAQ,IAC9B,wBACIM,QAAS,kBAAMnB,EAAMoB,WAAWF,EAAOtB,GAAIsB,EAAOP,OADtD,sBAFMO,EAAOP,YA2IlBU,EA9HH,WACR,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,mBAAS,IAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAoCN,mBAAS,IAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KACA,EAAwCR,mBAAS,CAC7CrB,QAAS,KACTC,KAAM,OAFV,mBAAO6B,EAAP,KAAqBC,EAArB,KAUAC,qBALa,WACT9B,QAAQC,IAAI,6BACZ8B,IAAuB3C,MAAK,SAACgC,GAAD,OAAaC,EAAWD,QAGxC,IAEhB,IAoFMP,EAAeO,EAAQY,QAAO,SAACjB,GACjC,IAAMiB,EAASN,EAAWO,cAE1B,OADalB,EAAOP,KAAKyB,cACbC,SAASF,MAGzB,OACI,gCACI,2CACA,cAAC,EAAD,CAAclC,QAAS8B,IACvB,cAAC,EAAD,CAAQxB,MAAOsB,EAAYrB,SApFR,SAAC8B,GACxBnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzBuB,EAAcQ,EAAMC,OAAOhC,UAmFvB,2CACA,cAAC,EAAD,CACIG,SAlFI,SAAC4B,GAEb,GADAA,EAAME,iBACFjB,EAAQkB,MAAK,SAACC,GAAD,OAAUA,EAAK/B,OAASc,MACrC,GACIkB,OAAOC,QAAP,UACOnB,EADP,2EAGF,CACE,IAAMP,EAASK,EAAQsB,MAAK,SAACH,GAAD,OAAUA,EAAK/B,OAASc,KAC9CqB,EAAW,2BACV5B,GADU,IAEbL,OAAQc,IAEZO,EACYhB,EAAOtB,GAAIkD,GAClBvD,MAAK,SAACwD,GAAD,OACFvB,EACID,EAAQN,KAAI,SAACyB,GAAD,OACRA,EAAK9C,KAAOsB,EAAOtB,GAAK8C,EAAOK,SAI1CC,OAAM,SAACC,GACJjB,EAAgB,CACZ/B,QAAQ,kBAAD,OAAoBwB,EAApB,yCACPvB,KAAM,UAGVsB,EACID,EAAQY,QAAO,SAACO,GAAD,OAAUA,EAAK9C,KAAOsB,EAAOtB,OAEhDsD,YAAW,WACPlB,EAAgB,CACZ/B,QAAS,KACTC,KAAM,SAEX,cAIfgC,EACY,CAAEvB,KAAMc,EAASZ,OAAQc,IAChCpC,MAAK,SAAC4D,GACH3B,EAAWD,EAAQ6B,OAAOD,IAC1BnB,EAAgB,CACZ/B,QAAQ,SAAD,OAAWwB,GAClBvB,KAAM,YAEVwB,EAAW,IACXE,EAAa,IACbsB,YAAW,WACPlB,EAAgB,CACZ/B,QAAS,KACTC,KAAM,SAEX,SA4BPS,KAAMc,EACNb,aAnGa,SAAC0B,GACtBnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzBmB,EAAWY,EAAMC,OAAOhC,QAkGhBM,OAAQc,EACRb,eAhGe,SAACwB,GACxBnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzBqB,EAAaU,EAAMC,OAAOhC,UAgGtB,yCACA,cAAC,EAAD,CAASS,aAAcA,EAAcI,WA7B1B,SAACxB,EAAIsB,GAChByB,OAAOC,QAAP,iBAAyB1B,EAAzB,OACAgB,EAAqBtC,GAAIL,MAAK,WAC1BiC,EAAWD,EAAQY,QAAO,SAACjB,GAAD,OAAYA,EAAOtB,KAAOA,gB,MCpJpEyD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.be59ea38.chunk.js","sourcesContent":["import axios from \"axios\"\nconst PORT = process.env.PORT || 3001\nconst baseUrl = `/api/persons`\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    // note sure if there is any actual data to process\n    return request.then((response) => response.data)\n}\n\nconst update = (id, data) => {\n    const request = axios.put(`${baseUrl}/${id}`, data)\n    return request.then((response) => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from \"react\"\nimport personService from \"./services/persons\"\n\nconst Notification = (props) => {\n    const { message, type } = props.message\n    if (message === null) {\n        return null\n    }\n    console.log(\"message type: \", type)\n    return <div className={type}>{message}</div>\n}\n\nconst Filter = (props) => {\n    return (\n        <div>\n            filter shown with\n            <input value={props.value} onChange={props.onChange} />\n        </div>\n    )\n}\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.onSubmit}>\n            <div>\n                name:\n                <input value={props.name} onChange={props.onNameChange} />\n            </div>\n            <div>\n                number:\n                <input value={props.number} onChange={props.onNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nconst Persons = (props) => {\n    return (\n        <div>\n            {props.filteredList.map((person) => (\n                <div key={person.name}>\n                    {person.name} {person.number}{\" \"}\n                    <button\n                        onClick={() => props.deleteName(person.id, person.name)}\n                    >\n                        delete\n                    </button>\n                </div>\n            ))}\n        </div>\n    )\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState(\"\")\n    const [newNumber, setNewNumber] = useState(\"\")\n    const [nameFilter, setNameFilter] = useState(\"\")\n    const [notifMessage, setNotifMessage] = useState({\n        message: null,\n        type: null,\n    })\n\n    const hook = () => {\n        console.log(\"Grabbing data from server\")\n        personService.getAll().then((persons) => setPersons(persons))\n    }\n\n    useEffect(hook, [])\n\n    const handleNameChange = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        console.log(event.target.value)\n        setNameFilter(event.target.value)\n    }\n\n    const addName = (event) => {\n        event.preventDefault()\n        if (persons.some((item) => item.name === newName)) {\n            if (\n                window.confirm(\n                    `${newName} is already added to phonebook, replace the old number with a new one?`\n                )\n            ) {\n                const person = persons.find((item) => item.name === newName)\n                const updatedInfo = {\n                    ...person,\n                    number: newNumber,\n                }\n                personService\n                    .update(person.id, updatedInfo)\n                    .then((updatedPerson) =>\n                        setPersons(\n                            persons.map((item) =>\n                                item.id !== person.id ? item : updatedPerson\n                            )\n                        )\n                    )\n                    .catch((error) => {\n                        setNotifMessage({\n                            message: `Information of ${newName} has already been removed from server`,\n                            type: \"error\",\n                        })\n                        // remove this person from local array\n                        setPersons(\n                            persons.filter((item) => item.id !== person.id)\n                        )\n                        setTimeout(() => {\n                            setNotifMessage({\n                                message: null,\n                                type: null,\n                            })\n                        }, 5000)\n                    })\n            }\n        } else {\n            personService\n                .create({ name: newName, number: newNumber })\n                .then((newPerson) => {\n                    setPersons(persons.concat(newPerson))\n                    setNotifMessage({\n                        message: `Added ${newName}`,\n                        type: \"success\",\n                    })\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                    setTimeout(() => {\n                        setNotifMessage({\n                            message: null,\n                            type: null,\n                        })\n                    }, 5000)\n                })\n        }\n    }\n\n    const deleteName = (id, person) => {\n        if (window.confirm(`Delete ${person}?`)) {\n            personService.remove(id).then(() => {\n                setPersons(persons.filter((person) => person.id !== id))\n            })\n        }\n    }\n\n    // very simple filter\n    const filteredList = persons.filter((person) => {\n        const filter = nameFilter.toLowerCase()\n        const name = person.name.toLowerCase()\n        return name.includes(filter)\n    })\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notifMessage} />\n            <Filter value={nameFilter} onChange={handleFilterChange} />\n            <h2>add a new</h2>\n            <PersonForm\n                onSubmit={addName}\n                name={newName}\n                onNameChange={handleNameChange}\n                number={newNumber}\n                onNumberChange={handleNumberChange}\n            />\n            <h2>Numbers</h2>\n            <Persons filteredList={filteredList} deleteName={deleteName} />\n        </div>\n    )\n}\n\nexport default App\n","import ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"./index.css\"\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}